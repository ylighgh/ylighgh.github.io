=== Nginx

==== Nginx+Keepalivedå¥åº·æ£€æµ?

[source,bash]
----
cat <<EOF> nginx_check.sh
#!/bin/bash
if [ "$(ps -ef | grep "nginx: master process"| grep -v grep )" == "" ]
then
    #ä»¥ä¸Šä½œç”¨ï¼šå¦‚æœè¿›ç¨‹æ²¡æœ‰nginxï¼Œåˆ™å¯åŠ¨
    systemctl start nginx 
    #é—´éš”æ—¶é—´
    sleep 5 
if [ "$(ps -ef | grep "nginx: master process"| grep -v grep )" == "" ]
then
    #ä»¥ä¸Šä½œç”¨ï¼šå¦‚æœè¿›ç¨‹æ²¡æœ‰nginxï¼Œåˆ™åœæ­¢keepalived
    killall keepalived 
fi
fi
EOF

----